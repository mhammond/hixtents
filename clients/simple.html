<html>
    <head>
    <script src="http://localhost:8888/intents.js"></script>
    <script>

function doit() {
    navigator.handleIntent("test", null, function(port) {
        console.log("handleIntent callback called!");
        port.onmessage = function(response) {
            console.log("handleIntent onmessage called", response);
        }
        port.postMessage("here is the test data");
    });
};

function shareit() {
    navigator.handleIntent("share", null, function(port) {
        console.log("share handleIntent callback called!");
        port.onmessage = function(response) {
            console.log("share handleIntent onmessage called", response);
        }
        port.postMessage({url: window.location.href, subject: "a demo page"});
    });
};
    </script>
    </head>
  <body>
     <a href="#" onclick="testit();">Click to invoke 'test' intent...</a>
     <a href="#" onclick="shareit();">Click to invoke 'share' intent...</a>
  </body>
</html>
